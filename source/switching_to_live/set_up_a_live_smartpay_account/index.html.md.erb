---
title: Connect your live account to SmartPay
last_reviewed_on: 2020-08-01
review_in: 6 months
weight: 164
---

# Connect your live account to SmartPay

This is part of [going live](/switching_to_live/#go-live).

To connect your live account to SmartPay, you must:

- have already connected at least one live GOV.UK account to SmartPay before 1 August 2020
- be an admin on your GOV.UK Pay account

If you do not meet these requirements, you must connect your live GOV.UK Pay account to either [GOV.UK's contracted payment service provider (PSP)](/switching_to_live/set_up_a_live_stripe_account/#connect-your-live-account-to-stripe) or [Government Banking's contracted PSP](/switching_to_live/set_up_a_live_worldpay_account/#connect-your-live-account-to-worldpay).

## Configure your user profile on SmartPay

Sign in to your [SmartPay account](https://ca-live.barclaycardSmartPay.com/ca/ca/login.shtml). Select your organisation name at the top of the page, then the correct merchant account.

### Set up an ‘API user’

You must set up a username and password that SmartPay will use to connect to the GOV.UK Pay API.

1. Select __Settings__ then __Users__.

2. Select __Add new user__.

3. Select __Web Service__ as the user type.

4. Complete both the __Password__ fields.

    You should follow the guidance about [choosing and storing passwords](https://www.ncsc.gov.uk/collection/top-tips-for-staying-secure-online/password-managers) from the National Cyber Security Centre (NCSC).

5. Leave the __Client Certificate (DN)__ field blank.

You'll need to copy the username and password into your [GOV.UK Pay account](https://selfservice.payments.service.gov.uk/login) later.

### Generate client encryption key

Under __Easy Encryption__, select __Generate__. Leave the other options as their defaults.

### Enable roles and accounts

Under __Roles and Associated Accounts__, select __Roles__.

Enable the following roles:

- API PCI Payments role
- Merchant PAL Webservice role
- Merchant Recurring role

Contact SmartPay if any of these roles are not in the list.

Select __Accounts__. Enable your merchant account, then select __Save__.

### Edit allowed user IP range

Set the __IP address__ to `0.0.0.1`.

Leave the other options as their defaults.

## Set the payment capture method

1. Select __Settings__.
2. Under __Capture Delay__, select __manual__.
3. Select __Submit__.

## Set up notification settings

1. Select __Settings__ then __Server Communication__.

2. Select __Add__ in the __Standard Notification__ row.

### Set up ‘Transport’ settings

In the __Transport__ section, set:

* __URL__ to `https://notifications.payments.service.gov.uk/v1/api/notifications/SmartPay`
* __Active__ to checked
* __SSL Version__ to __TLSv1.2__
* __Service version__ to __1__
* __Method__ to __JSON__

Leave the following fields unchecked:

* __Accept expired__
* __Accept self-signed__
* __Accept untrusted Root certificates__
* __Populate SOAP Action header__

### Set up ‘Authentication’ settings

Enter a username and password. You should follow the [NCSC guidance on choosing and storing passwords](https://www.ncsc.gov.uk/collection/top-tips-for-staying-secure-online/password-managers).

You'll need to copy this username and password into your GOV.UK Pay account later.

Leave all other settings as their defaults, then select __Save configuration__.

## Copy your details into your GOV.UK Pay account

Select your live account from the [__My services__ page](https://selfservice.payments.service.gov.uk/my-services) in the GOV.UK Pay admin tool. Then select [__Your PSP - SmartPay__].

### Add your account credentials

Under __Account credentials__, complete the following fields:

* __Merchant account code__
* __Username__ - use the username of the [new user you created](#set-up-an-api-user)
* __Password__ - use the password of the [new user you created](#set-up-an-api-user)

### Add your notification credentials

Under __Your SmartPay notification credentials__, complete the following fields:

* __Username__ - use the username from the [Authentication section](#set-up-authentication-settings)
* __Password__ - use the password from the [Authentication section](#set-up-authentication-settings)

Select __Save credentials__.
