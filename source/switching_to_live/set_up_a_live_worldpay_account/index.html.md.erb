---
title: Connect your live account to Worldpay
last_reviewed_on: 2023-09-13
review_in: 6 months
weight: 7120
---

# Connect your live account to Worldpay

This is part of [going live](/switching_to_live/#go-live).

Government Banking's contracted payment service provider (PSP) is currently Worldpay. You must be a central government or health sector organisation to use Government Banking's contracted PSP.

You must be an admin on your GOV.UK Pay account to connect to Worldpay.

## 1. Check your Worldpay account

Make sure your Worldpay account is both:

- an admin account
- using the Worldpay Corporate Gateway, not the Worldpay Business Gateway

## 2. Switch to Production Mode for your merchant code

Sign in to your [Worldpay
account](https://secure.worldpay.com/sso/public/auth/login.html) and select your merchant code.

If __Test Mode__ is at the bottom of the left-hand menu, switch to __Production Mode__. Worldpay uses the term 'production' for live accounts.

## 3. Connect your Worldpay account to GOV.UK Pay

How you connect your Worldpay account to your GOV.UK Pay service depends on the type of payment you are going to take. There are different processes for:

* [one-off online payments and mail order / telephone order (MOTO) payments](#3a-connect-your-one-off-or-moto-payments-service-to-your-worldpay-account)
* [recurring payments](#3b-connect-your-recurring-payments-service-to-your-worldpay-account)

### 3a. Connect your one-off or MOTO payments service to your Worldpay account

1. Select your live account from the [__Overview__ page](https://selfservice.payments.service.gov.uk/my-services) in the GOV.UK Pay admin tool.

2. Go to the __Settings__ page and select __Your PSP - Worldpay__.

3. In your Worldpay account, select __Account__ and the __Profile__ tab, then your merchant code if you're asked for one.

4. In your Worldpay account, copy the __Merchant Code__ value from the __Identification__ section. Paste this value into the __Merchant code__ field in your GOV.UK Pay account.

5. In your Worldpay account, copy the __New Username__ value. Paste this value into the __Username__ field in your GOV.UK Pay account.

6. In your Worldpay account, if you see a checkbox labelled __Disable Original XML Username__, select the checkbox and then select __Save Profile__ at the bottom.

7. In your Worldpay account, if you have not set your XML password for this merchant code before, set it by selecting the pencil icon next to __XML Password__ and choosing a password.

    If you've set your XML password before but you cannot remember it, you can set a new password. But you must add the new password to your other services that use this Worldpay account, or they'll stop working.

    You should follow the guidance about [choosing and storing passwords](https://www.ncsc.gov.uk/collection/top-tips-for-staying-secure-online/password-managers) from the National Cyber Security Centre (NCSC).

8. Confirm your password by selecting __Add new password__, then __OK__.

9. Save the password by selecting the pencil icon again, then __Complete__, then __OK__.

10. In your Worldpay account, copy your XML password. Paste this password into the __Password__ field in your GOV.UK Pay account.

11. Go to the __Payment service__ section of your Worldpay account.

12. Set __Capture delay (days)__ to __Off__ (not __0__).

    If you do not do this, you may take money from your users before they've confirmed their payment.

13. Contact Worldpay if you want to take payments higher than the amount in __Maximum Transaction Amount__.

14. In your GOV.UK Pay account, select __Save credentials__.

Continue to [step 4 to enable 3DS Flex](#4-enable-3ds2-3ds-flex).

### 3b. Connect your recurring payments service to your Worldpay account

1. Select your live account from the [**Overview page**](https://selfservice.payments.service.gov.uk/my-services) in the GOV.UK Pay admin tool.

1. Go to the **Settings** page and select **Your PSP - Worldpay**.

1. Select **Change** in the **Recurring customer initiated transaction (CIT) credentials** table.

1. In your [Worldpay account](https://secure.worldpay.com/sso/public/auth/login.html), select your customer initiated transaction (CIT) merchant code. Your CIT merchant code ends in `ECOMGBP`. 

    If you're unsure which merchant code is your CIT, contact either Government Banking or your Worldpay account manager. 

1. In your Worldpay account, select **Account** and the **Profile** tab.

1. In your Worldpay account, copy the **Merchant Code** value from the **Identification** section. Paste this value into the **CIT merchant code** field in the GOV.UK Pay admin tool.

1. In your Worldpay account, copy the **New Username** value. Paste this value into the **Username** field in the GOV.UK Pay admin tool.

1. In your Worldpay account, if you have not set your XML password for this merchant code before, set it by selecting the pencil icon next to **XML Password** and choosing a password.

    If you’ve set your XML password before but you cannot remember it, you can set a new password. But you must add the new password to your other services that use this Worldpay account, or they’ll stop working. 

    You should follow the guidance about [choosing and storing passwords](https://www.ncsc.gov.uk/collection/top-tips-for-staying-secure-online/password-managers) from the National Cyber Security Centre (NCSC).

1. Confirm your password by selecting **Add new password**, then **OK**.

1. Save the password by selecting the pencil icon again, then **Complete**, then **OK**.

1. In your Worldpay account, copy your XML password. Paste this password into the **Password** field in your GOV.UK Pay account.

1. Go to the **Payment service** section of your Worldpay account.

1. Set **Capture delay (days)** to **Off** (not **0**).

    If you do not do this, you may take money from your users before they’ve confirmed their payment.

1. Contact Worldpay if you want to take payments higher than the amount in __Maximum Transaction Amount__.

1. In the GOV.UK Pay admin tool, select **Save credentials**.

1. Select **Change** in the **Recurring merchant initiated transaction (MIT) credentials** table.

1. In your Worldpay account, select your merchant initiated transaction (MIT) merchant code from the navigation panel on the left. Your MIT merchant code ends in `RECGBP`. 

    If you're unsure which merchant code is your MIT, contact either Government Banking or your Worldpay account manager. 

1. Repeat steps 6 to 15 to link your MIT merchant code to your recurring payment service.

Continue to [step 4 to enable 3DS Flex](#4-enable-3ds2-3ds-flex).

## 4. Enable 3DS2 (3DS Flex)

3DS Flex is a Worldpay product that enables 3DS2 payment authentication. You must turn on 3DS Flex to take payments using GOV.UK Pay.

If you are setting up a [MOTO service](/moto_payments/), you do not need to turn on 3DS Flex.

As part of your onboarding, Worldpay should have sent you your 3DS Flex credentials. You can also find your 3DS credentials in [Worldpay’s Merchant Admin Interface](https://secure.worldpay.com/sso/public/auth/login.html?serviceIdentifier=merchantadmin) by selecting **INTEGRATION** and then **3DS Flex**.

1. In the GOV.UK Pay admin tool, select the account you want to set up on the **Overview** page.

1. Select **Settings**, then **Payment channels**.

1. Select **Add Worldpay 3DS Flex credentials**, then enter your 3DS Flex credentials in the **Organisational unit ID**, **Issuer (API ID)**, and **JWT MAC key (API key)** fields.

1. Select **Save and continue**.

## Set up your Worldpay 'Merchant Channels'

You must set up your Worldpay 'Merchant Channels' so Worldpay can notify GOV.UK Pay about payment events.

If you're setting up a recurring payments service, you must make these changes for both your customer initiated transaction and your merchant initiated transaction merchant codes.

In your Worldpay account, select __Integration__ then the __Merchant Channel__ tab.

### Set up ‘Merchant Channels’

You must make the following changes in both the __Merchant Channels (Production)__ and __Merchant Channels (Test)__ sections.

Set __Active__ to:

- __no__ in the __email__ row
- __yes__ in the __http__ row
- __no__ in the __shopper email__ row

In the __http__ row, set:

- __Content__ to __xml__
- __Address__ to `https://notifications.payments.service.gov.uk/v1/api/notifications/worldpay`
- __Method__ to __POST__
- __Client certificate__ to __no__

### 5. Set up ‘Merchant Channel Events’

In both the __Merchant Channel Events (Production)__ and __Merchant Channel Events (Test)__ sections, select the following in the __http__ row.

- __SHOPPER_REDIRECTED__
- __SENT_FOR_AUTHORISATION__
- __AUTHORISED__
- __ERROR__
- __CANCELLED__
- __CAPTURED__
- __CAPTURE_FAILED__
- __SETTLED__
- __SETTLED_BY_MERCHANT__
- __SENT_FOR_REFUND__
- __REFUNDED__
- __REFUNDED_BY_MERCHANT__
- __REFUSED__
- __REFUSED_BY_BANK__ (production only)
- __REFUND_FAILED__

Once you’ve set up your Worldpay 'Merchant Channels', your live account is connected to Worldpay. Continue with the next steps to [going live](/switching_to_live/#3-choose-which-card-types-to-accept).
